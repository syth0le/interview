- что такое `__slots__`?
  - так как мы можем устанавливать атрибуты динамически, иногда полезно явно зафиксировать что будет находиться в классе.
  - `__slots__` позволяет быстрее обращаться к атрибутам. А всё потому, что сложность операций `get` и `set` в списке меньше, чем в словаре
  - `__slots__` сокращает использование оперативной памяти

- что такое дескриптор?
  - Дескриптор – это просто объект Python, в котором определён хотя бы один из `__get__()`, `__set__()` и `__delete__()` методов.

- что такое метаклассы?
  - класс создающий другие классы. Используются нечасто.

ООП

- наследование, композиция, полиморфизм, абстракция.

Django

- Модели. Один класс наследуется от другого. Что произойдет в бд?
  - если наследоваться от абстрактного класса, то в дочернем будут все поля абстрактного, и в бд будет только 1 таблица.
  - если не от абстрактного, то будет 2 таблицы, и в дочерней будет ссылка на родительскую.

- где лучше расположить логику (модели vs сериализаторы)?
  - если логика завязана на модели, то лучше проперти в модельке
  - если логика завязана на валидации, добавлении данных или их формате - то сериалайзер

- где лучше расположить логику (модели vs менеджеры)?
  - то же самое что и выше, только в менеджерах будет высчитываться доп логика и/или логика переопределения имеющихся методов и добавления доп функциональности к ним (допустим какую нибудь фильтрацию)

- что делать если нужно сделать запрос в 2 связные таблицы. Что делать для оптимизации запроса?
  - `prefetch_related`, `select_related`

- разница между `select_related` и `prefetch_related`?
  - `select_related` для `ForeignKey`. Позволяет нам точно указать Django, какие связанные модели мы хотим, чтобы он мог заранее выполнить JOINs
  - `prefetch_related` для `ManyToMany`. 
  - В некоторых сценариях простого синтаксиса `prefetch_related` недостаточно, чтобы Django не выполнял дополнительные запросы. Для большего контроля предварительной выборки вы можете использовать объект предварительной выборки `Prefetch`

- как можно еще оптимизировать запросы?
  - кэширование запросов например
  - индексы

- что такое Middleware?
  - https://www.youtube.com/watch?v=Qe8YI5wXJng&t=2s (здесь описана логика работы и последовательность вызовов Middleware)
  - связывает request и response. Используется например для обработки исключений / предобработки перед нашей вьюшкой / для доп логики какой-то
  
- drf permissions?
  - Можно написать свои кастомные разрешения, на основе разрешений джанго и использовать их во вьюхах
  - Для реализации обработчика достаточно реализовать класс с методом `.has_permission(self, request, view)`, `.has_object_permission(self, request, view, obj)`.


Общие вопросы

- Что такое RPC?
  - Remote Procedure Call. Клиент и сервер точно знают как и с какими параметрами вызывать процедуры.
  - Главная идея RPC была в том, чтобы сделать вызов удаленных систем очень похожим на вызов функций внутри программы. Вся механика удаленных вызовов пряталась от программиста
  - самый популярный представитель - Google ProtoBuf


- Что такое REST API (Representational state transfer)
  - принцип **CRUD: Create — Read — Update — Delete** сохраняется в виде **HTTP (Post — Get — Put — Delete)**


- Что такое GraphQL?
  - это язык запросов для API. GraphQL позволяет клиентам определять структуру требуемых данных. Сервер возвращает именно эту структуру
    - пример запроса: 
    ```
      POST /graphql
      HOST api.github.com
      Content-Type: application/json
      Authorization: bearer OAUTH-TOKEN
      {
          user(login: "Georgii") {
          id
          name
          company
          createdAt
          } 
      }
      ```
    - пример ответа: 
    ```
    {   "data": {
         "user": {
            "id": "MDQ6VXNlcjY1MDI5",
            "name": "Georgii",
            "company": "myCompany",
            "createdAt": "2009-03-19T21:00:06Z"
        }
      }
    }
    ```
  - В отличие от REST и RPC API, GraphQL требует только один эндпоинт URL. Также вам не нужны разные HTTP-методы для описания операции. Вместо этого вы указываете в теле JSON выполняете ли вы запрос или мутацию.

- В чем отличие RESTful API от REST API?
  - REST — архитектурный стиль
  - RESTful это сервис который следует стилю REST. 
  - Т.е если у вас на сервере REST API, а на клиенте вы делаете запросы к этому API, то у вас RESTful приложение/сайт.


- Виды индексов в SQL?
  - https://tproger.ru/articles/indeksy-v-postgresql/
  - GiST 
  - SP-GiST
  - B-tree
  - GIN
  - RUM
  - R-tree
  - K-tree


- для чего нужен Celery?
  - для выполнения периодических или отложенных задач.
  - чтобы снять нагрузку с основного кода (отправить сообщение по email отложенно)
  - для работы Celery необходим брокер, чтобы брать задачи с какого-то пулла. (например Redis)
  - также нужен Celery Beat. Executor какой то, который выполняет задачи.
  - нужен еще менеджер очередей. Например Flower. в нем можно следить чтобы очереди не падали, ну и смотреть какие упали и почему, с каким traceback'ом.


- где лучше хранить кэш запросов. В Redis или SQL?
  - в Redis, так как этот брокер - key-value хранилище, развертываемое в ОЗУ. Оно периодически делает дампы на ЖД, но пока работает - использует именно ОЗУ. 
  - Это позволяет избежать доступ к Жесткому диску, который иногда бывает перегружен. Время доступа сокращается.


- NoSQL в чем преимущество?
  - нет фиксированной структуры данных. Позволяет хранить неструктуризированные данные. (Денормализация)

