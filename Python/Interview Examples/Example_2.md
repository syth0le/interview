Linux
- файл с логами весит 200 гб, как посмотреть логи последних 20 строк?
  - `$ tail опции файл`

Git
- чем отличается Rebase от Merge?
  - Согласно официальному руководству Git rebase “повторно применяет коммиты поверх другой базовой ветки”, тогда как merge “объединяет две или более историй разработки”. Иначе говоря, основное отличие между ними в том, что слияние сохраняет историю в первозданном виде, а перебазирование ее перезаписывает.

Python
- Разница между is и ==?
  - оператор `==` проверяет равенство значений двух объектов
  - оператор `is` проверяет идентичность самих объектов. Его используют, чтобы удостовериться, что переменные указывают на один и тот же объект в памяти

- Что такое Генератор? (yield)
  - Генератор — это объект, который сразу при создании не вычисляет значения всех своих элементов
  - Он хранит в памяти только последний вычисленный элемент, правило перехода к следующему и условие, при котором выполнение прерывается
  - Вычисление следующего значения происходит лишь при выполнении метода next(). Предыдущее значение при этом теряется

- Чем отличается Генератор от Итератора?
  - генератор в отличие от итератора не хранит все элементы последовательности в памяти. 
  - Генератор - частный случай итератора (но не наоборот)

- Возможно ли использование `yield` несколько раз (две строки подряд)?
  - да

- Что такое контекстный менеджер? (with)
  - объект, имеющий два магических метода `__enter__` `__exit__`. Позволяет гарантировано выполнить код в `__exit__` (закрытие соединения например)
  - для создания можно не только класс написать, или with использовать, но и декоратор специальный.
- Закроется ли соединение если упадет ошибка в контекстном менеджере?
  - да. Сработает метод `__exit__`. 

- Возможно ли в Python множественное наследование?
  - да
  
- на основании какой структуры данных реализованный Словари?
  - Hash таблицы. Ключами могут быть только Immutable типы данных, чтобы можно было взять hash.
  - Сейчас в питоне сохраняется последовательность данных в словаре, (с Python 3.9)

- Коллизия что такое?
  - hash берущийся от двух разных значений - идентичен.
  - При поиске элемента, если находится два идентичных Hash'a, то сравниваются значения. Если не совпало, то берется следующий.

- Что такое Метакласс?
  - Метакласс - класс позволяющий создавать другие классы.

- Отличие `__new__` от `__init__`?
  - Метод `__new__` используется, когда нужно управлять процессом создания нового экземпляра, а `__init__` – конструктор. Поэтому `__new__` возвращает новый экземпляр класса, а `__init__` – ничего.
  - `__new__` вызывает `__init__`
  - `__new__` не используется для переопределения immutable типа данных (не получится)

- многопроцессорный код, многопоточный, асинхронный
  - многопроцессорный - когда решаем задачи CPU bound.
    - в процессе всегда есть один поток
    - чтобы создать процесс - надо время
    - сложно обмениваться памятью и данными между потоками
  - многопоточный - когда решаем задачи IO bound
    - поток создается мгновенно
    - легко обмениваться памятью и данными между потоками в рамках процесса
    - в Python ее нет, из-за GIL (глобальный mutex). Один поток может выполняться в одно время, а другие ждут в это время.
  - асинхронный - event loop
    - передача управление между событиями, пока один выполняется - другие ждут.

- всегда ли асинхронный код работает быстрее синхронного?
  - нет
  - из-за задержек. Распределение ресурсов между потоками не справедливо. Выполнение потоков не контролируется неким менеджером. Вместо этого потоки отдают ресурсы другим потокам по собственной инициативе.
  - из-за пропускной способности. 
  - из-за нагрузки. Под нагрузкой асинхронщина работает хуже синхронного кода. Опять же из-за задержек в пиковой нагрузке.


ООП
- **SOLID**
  - **Single Responsibility Principle (Принцип единственной обязанности)**. Один класс выполняет только одну работу
  - **Open-Closed Principle (Принцип открытости/закрытости)**. Программные сущности (классы, модули, функции) должно быть открыты для расширения, но не модификации.
  - **Liskov Substitution Principle (Принцип подстановки Лисков)**. Для любого класса клиент должен иметь возможность использовать любой подкласс базового класса, не замечая разницы между ними. Интерфейсы идентичны должны быть.
  - **Interface Segregation Principle (Принцип разделения интерфейсов)**. Клиенты не должны зависеть от интерфейсов, которые они не используют.
  - **Dependecy Inversion Principle (Принцип инверсии зависимостей)**. Зависимость должна быть от абстракций, а не от конкретики. Модули верхних уровней не должны зависеть от модулей нижних уровней. Классы и верхних, и нижних уровней должны зависеть от одних и тех же абстракций. Абстракции не должны зависеть от деталей. Детали должны зависеть от абстракций.

- сложность операции перебора всех эл-тов списка?
  - O(n)

- сложность операции поиска по индексу?
  - O(1)

- сложность бинарного поиска?
  - log(n). Из-за того что лог - степень двойки. Из за того что каждый раз делим на два - отсюда вылезает логарифм

- число 123 перевернуть?
  - '123'[::-1]
  - reverse в списке
  - число сохранять числом: целочисленное деление


Django

- реализация M2M?
  - Через ManyToMany Relationship. При этом создаться Прокси таблица, хранящая ссылки на две таблице в каждой строке.

- как создать доп поля в прокси таблице?
  - вручную сделать три таблицы, и в прокси таблице FK на обе прокинуть + добавить доп поля.
  - В Many To Many можно указать через какую таблицу будет проходить связь. При этом сохранится привычный синтаксис написания M2M

- SerializerMethodField
  - позволяет написать метод, который будет валидировать поле по правилам, динамически рассчитывать.

- Доводилось ли писать кастомные миграции?
  - да

celery и брокеры
- как выбирать брокер для проекта?
  - kafka - очень производительна (хранит пулл задач в журнале???)
  - redis более простой (хранит пулл задач в Оперативке)
  - в kafka, rabbitmq есть гарантия доставки сообщений. в Redis - нет. По сути Redis и не брокер то. В нем хранятся просто ключ значение. нет ни стратегии, ни гарантии. Используется для чего-то не важного. Зато запускается быстро - 1 строка в настройках джанги и все, а с Rabbitmq повозиться надо. 

- примитивы celery (chain, groups).
  - только отложенные таски, переодичные и тд, остальное - нет

admin panel и оптимизация запросов
- Грузится долго страница в админке, что делать?
  - Патрицирование использовать
  - Индексы накинуть, чтобы быстрее поиск происходил
  - В админке по умолчанию N+1 запросы, но это можно настроить.
  - Добавить select_related, prefetch_related
  - Убрать количество данных в выдаче (столбцов) display
  

SQL
- денормализация на практике
- чем отличается SQL от NoSQL?
  - В отличие от реляционных баз данных у NoSQL гибкий подход к записям данных и нет жёстких требований к структуре
  - SQL-базы применяются для структурированных данных, то есть для тех, которые вписываются в табличный вид

- денормализация В SQL
  - допустим хранить данные в JSONField
  - или в других типах данных

- транзакции для чего нужны?
  - если нужно гарантировать что все выполнились в цепочке операции, либо ни одной.
  - Изолированность различного уровня (есть 4 проблемы транзакций). И они решаются с помощью транзакций определенного уровня.


- Индексы
  - Индекс можно создать более чем для одного столбца
  
- Индексы какие бывают?
  - https://ru.wikipedia.org/wiki/Индекс_(базы_данных)

- Как накинуть индекс в БД?
  - ```sql
    Syntax:
    CREATE INDEX [index_name]
    ON [table_name] ([column_name]);
    ```

- Обратные стороны использования индексов?
  - проблемы будут с вставкой и изменением элементов. Индексы будут пересчитываться (если большой объем данных - критично)

- Как посмотреть план запроса, чтобы увидеть что как используется?
  - Explain:  `EXPLAIN SELECT * FROM categories`
    ```sql
    ********************** 1. row **********************
  
    id: 1
    select_type: SIMPLE
    table: categories
    type: ALL
    possible_keys: NULL
    key: NULL
    key_len: NULL
    ref: NULL
    rows: 4
    Extra: 
    1 row in set (0.00 sec)
  ```
  
- Шардирование что такое?
  - https://habr.com/ru/company/oleg-bunin/blog/433370/ 
  - Vertical partitioning — поколоночно. Например, есть гигантская таблица на пару миллиардов записей в 60 колонок. Вместо того, чтобы держать одну такую гигантскую таблицу, держим 60 не менее гигантских таблиц по 2 млрд записей — и это не поколоночная база, а вертикальное партиционирование (как пример терминологии).
  - Horizontal partitioning — режем построчно, может быть, внутри сервера.

- отличие операторов Where от Having?
  - WHERE сначала выбирает строки, а затем группирует их и вычисляет агрегатные функции (таким образом, она отбирает строки для вычисления агрегатов)
  - HAVING отбирает строки групп после группировки и вычисления агрегатных функций
  - WHERE не должно содержать агрегатных функций
  - HAVING, напротив, всегда содержит агрегатные функции

CI/CD
- как обеспечить непрерывность работы сервиса при деплое?
  - сделать копию, а деплоить на другой инстанс проекта. Чтобы во время деплоя сервис был доступен.

Docker
- почему плохой подход хранить данные в бд в докер-контейнере?
  - при пересборке - произойдет потеря данных.
  - при каждом перезапуске контейнера теряются данные - поэтому прокидываются volumes.
  
Системы мониторинга какие бывают?
- Sentry, grafana.

- Если нужно что-то по типу очереди, но при этом важна персистентность данных, какое решение выбирать?
  - главное в этом выборе - чтобы не хранились данные в ОЗУ, как в Redis. Иначе при падении сервера, отключении электричества - все данные потеряются.